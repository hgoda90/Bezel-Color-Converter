<html>
	<head>
		<link rel="stylesheet" href="assets/OwlCarousel/owl.carousel.css">
		<link rel="stylesheet" href="assets/OwlCarousel/owl.theme.default.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		<style>
			body {
				font-family: monospace;
				font-size: 16px;
				background: #f2f2f2;
				color: #333;
			}
			
			.content {
				margin: 0 auto;
				width: 512px;
				background: #FFF;
				padding: 14px;
				margin-top: 6%;
				border-radius: 16px;
				position: relative;
				box-shadow: 0px 0px 6px 4px rgba(128, 128, 128, 0.3);
			}
			
			#title, footer {
				padding: 14px;
				background: #EAEAEA;
				margin: -14px;
			}

			#title {
				padding: 14px;
				border-bottom: 1px solid #DDD;
				border-radius: 14px 14px 0px 0px;
				margin-bottom: 20px;
				text-align: center;
				font-weight: 300;
			}
			
			form {
				margin: 0px;
			}
			
			textarea {
				font-size: 16px;
				width: 256px;
				margin-bottom: 12px;
				resize: none;
				border: none;
			}
			
			textarea:focus-visible {
				outline: none;
			}
			
			.hex, .contrast {
				width: 50%;
				margin-top: 14px;
			}
			
			.hex input {
				text-transform:uppercase;
			}
			
			#contrasts {
				width: 25%;
				font-size: 14px;
			}
			
			.square {
				border: 4px inset #D2D2D2;
				background: #808080;
				height: 96px;
				width: 110px;
				right: 48px;
				top: 132px;
				position: absolute;
				outline: 2px inset #BBB;
				box-shadow: 0px 0px 14px 4px rgba(128, 128, 128, 0.25);
			}
			
			.message {
				display: inline-block;
				margin-top: 14px;
				height: 20px;
				width: 50%;
			}
			
			.error {
				color: #FF0000;
			}
			
			.info {
				font-weight: bold;
			}
			
			#submit, #copy {
				width: 40%;
				padding: 6px 12px;
				border-radius: 6px;
				display: inline-block;
				border: 2px solid #DDD;
				margin: 0px 12px;
			}
			
			#submit:hover, #copy:hover {
				cursor: pointer;
			}
			
			#copy:hover:disabled {
				cursor: not-allowed;
			}
			
			.input-group {
				margin: 12px 24px;
				text-align: center;
			}

			footer {
				border-top: 1px solid #DDD;
				border-radius: 0px 0px 14px 14px;
				margin-top: 20px;
				text-align: right;
			}

			footer em {
				opacity: 0.5;
			}
			
			a {
				text-decoration: none;
				color: #666;
				font-weight: bold;
			}

			a:hover {
				color: #000;
			}
			
			.owl-wrapper {
				width: 940px;
				position: absolute;
				bottom: 48px;
				left: 50%;
				margin-left: -542px;
			}
			
			.owl-wrapper h3 {
				margin-left: 72px;
				font-size: 20px;
				color: #666;
			}
			
			.owl-carousel {
				padding: 0px 72px;
			}
			
			.owl-carousel .owl-nav .disabled {
				opacity: 0.25;
				cursor: default;
			}
			
			.owl-carousel .owl-nav button.owl-prev, .owl-carousel .owl-nav button.owl-next {
				background: #FFF;
				border-radius: 50%;
				font-size: 30px;
				width: 36px;
				height: 36px;
				position: absolute;
				bottom: 40%;
			}
			
			.owl-prev {
				left: 12px;
			}
			
			.owl-next {
				right: 12px;
			}

			.owl-prev span, .owl-next span {
				margin-top: -4px;
				display: block;
			}
			
			.swatch {
				background: #FFF;
				padding: 4px;
				border-radius: 4px 4px 0px 0px;
				height: 180px;
				text-align: right;
				border: 1px solid #E2E2E2;
				box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.05);
			}
			
			.swatch:hover{
				cursor: pointer;
			}

			.color {
				height: 120px;
				border: 1px solid #AAA;
			}

			.color-text {
				padding: 8px 2px 4px;
				margin: 0px;
			}
			
			.color-hex {
				color: rgba(0,0,0,0.5);
				font-size: 12px;
			}
			
			.watermark {
				bottom: 24;
				right: 24;
				position: fixed;
				width: 36px;
				height: 36px;
				border-radius: 50%;
				border: 1px solid #DDD;
				padding: 4px;
				box-shadow: 0px 0px 3px 1px rgba(0, 0, 0, 0.05);
			}
			
			.watermark:hover {
				background: #FFF;
			}
			
			::-webkit-scrollbar {
				width: 10px;
			}
			 
			::-webkit-scrollbar-track {
				box-shadow: inset 0px 0px 6px 0px #DDD;
			}
			 
			::-webkit-scrollbar-thumb {
				background: #DDD;
			}
		</style>
	</head>
	<body>
		<div class="content">
			<form name="color-convert" method="post" onsubmit="return false;" autocomplete="off">
				<h2 id="title">HEX to koko-aio Color Converter</h2>
				<textarea class="conversion" rows="5" cols="36" readonly>
BEZEL_R = "0.000000"
BEZEL_G = "0.000000"
BEZEL_B = "0.000000"
BEZEL_CON = "1.300000"
				</textarea>
				<div class="hex">HEX: # <input type="text" name="hex" placeholder="808080"></div>
				<div class="contrast">
					<label for="contrasts">Contrast: </label>
					<select id="contrasts" name="contrasts">
						<option value=".70">0.70</option><option value=".71">0.71</option><option value=".72">0.72</option><option value=".73">0.73</option><option value=".74">0.74</option>
						<option value=".75">0.75</option><option value=".76">0.76</option><option value=".77">0.77</option><option value=".78">0.78</option><option value=".79">0.79</option>
						<option value=".80">0.80</option><option value=".81">0.81</option><option value=".82">0.82</option><option value=".83">0.83</option><option value=".84">0.84</option>
						<option value=".85">0.85</option><option value=".86">0.86</option><option value=".87">0.87</option><option value=".88">0.88</option><option value=".89">0.89</option>
						<option value=".90">0.90</option><option value=".91">0.91</option><option value=".92">0.92</option><option value=".93">0.93</option><option value=".94">0.94</option>
						<option value=".95">0.95</option><option value=".96">0.96</option><option value=".97">0.97</option><option value=".98">0.98</option><option value=".99">0.99</option>
						<option value="1.00">1.00</option><option value="1.01">1.01</option><option value="1.02">1.02</option><option value="1.03">1.03</option><option value="1.04">1.04</option>
						<option value="1.05">1.05</option><option value="1.06">1.06</option><option value="1.07">1.07</option><option value="1.08">1.08</option><option value="1.09">1.09</option>
						<option value="1.10">1.10</option><option value="1.11">1.11</option><option value="1.12">1.12</option><option value="1.13">1.13</option><option value="1.14">1.14</option>
						<option value="1.15">1.15</option><option value="1.16">1.16</option><option value="1.17">1.17</option><option value="1.18">1.18</option><option value="1.19">1.19</option>
						<option value="1.20">1.20</option><option value="1.21">1.21</option><option value="1.22">1.22</option><option value="1.23">1.23</option><option value="1.24">1.24</option>
						<option value="1.25">1.25</option><option value="1.26">1.26</option><option value="1.27">1.27</option><option value="1.28">1.28</option><option value="1.29">1.29</option>
						<option value="1.30" selected>1.30</option><option value="1.31">1.31</option><option value="1.32">1.32</option><option value="1.33">1.33</option><option value="1.34">1.34</option>
						<option value="1.35">1.35</option><option value="1.36">1.36</option><option value="1.37">1.37</option><option value="1.38">1.38</option><option value="1.39">1.39</option>
						<option value="1.40">1.40</option><option value="1.41">1.41</option><option value="1.42">1.42</option><option value="1.43">1.43</option><option value="1.44">1.44</option>
						<option value="1.45">1.45</option><option value="1.46">1.46</option><option value="1.47">1.47</option><option value="1.48">1.48</option><option value="1.49">1.49</option>
						<option value="1.50">1.50</option><option value="1.51">1.51</option><option value="1.52">1.52</option><option value="1.53">1.53</option><option value="1.54">1.54</option>
						<option value="1.55">1.55</option><option value="1.56">1.56</option><option value="1.57">1.57</option><option value="1.58">1.58</option><option value="1.59">1.59</option>
						<option value="1.60">1.60</option><option value="1.61">1.61</option><option value="1.62">1.62</option><option value="1.63">1.63</option><option value="1.64">1.64</option>
						<option value="1.65">1.65</option><option value="1.66">1.66</option><option value="1.67">1.67</option><option value="1.68">1.68</option><option value="1.69">1.69</option>
						<option value="1.70">1.70</option><option value="1.71">1.71</option><option value="1.72">1.72</option><option value="1.73">1.73</option><option value="1.74">1.74</option>
						<option value="1.75">1.75</option><option value="1.76">1.76</option><option value="1.77">1.77</option><option value="1.78">1.78</option><option value="1.79">1.79</option>
						<option value="1.80">1.80</option><option value="1.81">1.81</option><option value="1.82">1.82</option><option value="1.83">1.83</option><option value="1.84">1.84</option>
						<option value="1.85">1.85</option><option value="1.86">1.86</option><option value="1.87">1.87</option><option value="1.88">1.88</option><option value="1.89">1.89</option>
						<option value="1.90">1.90</option><option value="1.91">1.91</option><option value="1.92">1.92</option><option value="1.93">1.93</option><option value="1.94">1.94</option>
						<option value="1.95">1.95</option><option value="1.96">1.96</option><option value="1.97">1.97</option><option value="1.98">1.98</option><option value="1.99">1.99</option>
						<option value="2.00">2.00</option><option value="2.02">2.02</option><option value="2.02">2.02</option><option value="2.03">2.03</option><option value="2.04">2.04</option>
						<option value="2.05">2.05</option><option value="2.06">2.06</option><option value="2.07">2.07</option><option value="2.08">2.08</option><option value="2.09">2.09</option>
						<option value="2.10">2.10</option><option value="2.12">2.12</option><option value="2.12">2.12</option><option value="2.13">2.13</option><option value="2.14">2.14</option>
						<option value="2.15">2.15</option><option value="2.16">2.16</option><option value="2.17">2.17</option><option value="2.18">2.18</option><option value="2.19">2.19</option>
						<option value="2.20">2.20</option><option value="2.22">2.22</option><option value="2.22">2.22</option><option value="2.23">2.23</option><option value="2.24">2.24</option>
						<option value="2.25">2.25</option><option value="2.26">2.26</option><option value="2.27">2.27</option><option value="2.28">2.28</option><option value="2.29">2.29</option>
						<option value="2.30">2.30</option><option value="2.32">2.32</option><option value="2.32">2.32</option><option value="2.33">2.33</option><option value="2.34">2.34</option>
						<option value="2.35">2.35</option><option value="2.36">2.36</option><option value="2.37">2.37</option><option value="2.38">2.38</option><option value="2.39">2.39</option>
						<option value="2.40">2.40</option>
					</select>
				</div>
				<div class="square"></div>
				<span class="message"></span>
				<br>
				<br>
				<div class="input-group">
					<input type="submit" name="submit" value="Convert" id="submit">
					<input type="button" name="copy" value="Copy Settings" id="copy" onclick="presetCopy();" disabled>
				</div>
				<footer>
					<a href="https://forums.libretro.com/t/koko-aio-shader-discussions-and-updates/38455">koko-aio Shader</a><em> by kokoko3k</em>
				</footer>
			</form>
		</div>
		<div class="owl-wrapper">
			<h3>Console Color Swatches</h3>
			<div class="owl-carousel">
				<div class="swatch">
					<div class="color" style="background: #242323;"></div>
					<h4 class="color-text">Atari 2600</h4>
					<span class="color-hex">(#242323)</span>
				</div>
				<div class="swatch">
					<div class="color" style="background: #ED8332;"></div>
					<h4 class="color-text">Dreamcast</h4>
					<span class="color-hex">(#ED8332)</span>
				</div>
				<div class="swatch">
					<div class="color" style="background: #4E4480;"></div>
					<h4 class="color-text">GameCube</h4>
					<span class="color-hex">(#4E4480)</span>
				</div>
				<div class="swatch">
					<div class="color" style="background: #A8A5A6;"></div>
					<h4 class="color-text">PlayStation</h4>
					<span class="color-hex">(#A8A5A6)</span>
				</div>
				<div class="swatch">
					<div class="color" style="background: #2A5FA3;"></div>
					<h4 class="color-text">PlayStation 2</h4>
					<span class="color-hex">(#2A5FA3)</span>
				</div>
				<div class="swatch">
					<div class="color" style="background: #553A99;"></div>
					<h4 class="color-text">Super Nintendo</h4>
					<span class="color-hex">(#553A99)</span>
				</div>
			</div>
		</div>
		<a href="https://forums.libretro.com/u/hgoda90">
			<img class="watermark" src="watermark.png">
		</a>
		<script>
			function presetCopy() {
				navigator.clipboard.writeText($(".conversion").text().trim());
			}
			
			$(document).ready(function () {
				$("form").submit(function (event) {
					var hex = $(".hex input").val().toUpperCase(),
						contrast = $("#contrasts option:selected").val();
					
					$(".message").removeClass("info");
					$(".message").removeClass("error");
					
					if(/^[0-9A-F]{6}$/i.test(hex) == false){
						hexError = "true";
					}
					else{
						function hexToRgb(color) {
							var rgb = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(color);
							
							return rgb ? {
								r: parseInt(rgb[1], 16),
								g: parseInt(rgb[2], 16),
								b: parseInt(rgb[3], 16)
							} : null;
						}
						
						hexError = "false";
						
						if(contrast < 1){
							rSetting = (((hexToRgb(hex).r - 128) * (0.395 - (contrast - 1.30) * ((3.75 - contrast) * (contrast * .1 + .105) + (contrast * .01 + .0105))) / 128)).toFixed(10);
							gSetting = (((hexToRgb(hex).g - 128) * (0.395 - (contrast - 1.30) * ((3.75 - contrast) * (contrast * .1 + .105) + (contrast * .01 + .0105))) / 128)).toFixed(10);
							bSetting = (((hexToRgb(hex).b - 128) * (0.395 - (contrast - 1.30) * ((3.75 - contrast) * (contrast * .01 + .055) + (contrast * .001 + .0055))) / 128)).toFixed(10);
						}
						else{
							rSetting = (((hexToRgb(hex).r - 128) * (0.395 - (contrast - 1.30) * ((3.75 - contrast) * (contrast * .01 + .105) + (contrast * .001 + .0105))) / 128)).toFixed(10);
							gSetting = (((hexToRgb(hex).g - 128) * (0.395 - (contrast - 1.30) * ((3.75 - contrast) * (contrast * .01 + .105) + (contrast * .001 + .0105))) / 128)).toFixed(10);
							bSetting = (((hexToRgb(hex).b - 128) * (0.395 - (contrast - 1.30) * ((3.75 - contrast) * (contrast * .001 + .055) + (contrast * .0001 + .0055))) / 128)).toFixed(10);
						}
						
						$(".content").css("box-shadow", "0px 0px 6px 4px rgba("+hexToRgb(hex).r+", "+hexToRgb(hex).g+", "+hexToRgb(hex).b+", 0.3)");
						$(".square").css("box-shadow", "0px 0px 14px 4px rgba("+hexToRgb(hex).r+", "+hexToRgb(hex).g+", "+hexToRgb(hex).b+", 0.25)");
						$(".square").css("background", "#"+hex);
						
						contrastSetting = contrast+"0000";
						$(".conversion").text('BEZEL_R = "'+rSetting+'"\nBEZEL_G = "'+gSetting+'"\nBEZEL_B = "'+bSetting+'"\nBEZEL_CON = "'+contrastSetting+'"')
						
						$("#copy").prop("disabled", false);
						
						switch(hex){
							case "242323":
								$(".message").text("Atari 2600");
								$(".message").addClass("info");
								break;
							case "2A5FA3":
								$(".message").text("PlayStation 2");
								$(".message").addClass("info");
								break;
							case "4E4480":
								$(".message").text("GameCube");
								$(".message").addClass("info");
								break;
							case "553A99":
								$(".message").text("Super Nintendo");
								$(".message").addClass("info");
								break;
							case "A8A5A6":
								$(".message").text("PlayStation");
								$(".message").addClass("info");
								break;
							case "ED8332":
								$(".message").text("Dreamcast");
								$(".message").addClass("info");
								break;
							default:
								$(".message").removeClass("info");
								$(".message").empty();
						}
					}
					
					if(hexError == "true"){
						$(".message").html("HEX needs to be <strong>RRGGBB</strong> value");
						$(".message").addClass("error");
						$("#copy").prop("disabled", true);
					}
					else{
						$(".message").removeClass("error");
					}
					
					$(".contrast input, .hex input").blur();

					event.preventDefault();
					
				});
				
				$(".swatch").on('click', function(){
					$(".hex input").val($(this).children(".color-hex").text().replace("(", "").replace(")", "").replace("#", ""));
					$("form").submit();
					presetCopy();
				});
			});
		</script>
		<script src="assets/OwlCarousel/owl.carousel.js"></script>
		<script>
			$('.owl-carousel').owlCarousel({
				loop:false,
				margin:16,
				nav:true,
				items: 5
			});
		</script>
	</body>
</html>